# Allow list configuration - exclude these terms from PII detection
allow_list:
  enabled: true
  dictionary_path: "doc/softwaretec.dic"
  additional_terms: []

confidence_thresholds:
  address: 0.6
  birth_date: 0.6
  person_name: 0.6
  phone_number: 0.7
  zip_code: 0.6
context_scoring:
  address_context:
  - 住所
  - 現住所
  - 連絡先
  - 都道府県
  - 市区町村
  - 番地
  - 所在地
  birthdate_context:
  - 生年月日
  - 年齢
  - 生まれ
  - 誕生日
  - 生年
  - 年月日
  boost_score: 0.9
  person_context:
  - 氏名
  - ふりがな
  - フリガナ
  - 名前
  - お名前
  - 姓名
  phone_context:
  - TEL
  - 電話
  - 携帯
  - 自宅
  - tel
  - Tel
  window_size: 50
  zip_context:
  - 〒
  - 郵便番号
  - 郵便
  - zip
  - ZIP
entities_to_mask:
- JP_PERSON
- JP_ADDRESS
- PHONE_NUMBER_JP
- JP_ZIP_CODE
- DATE_OF_BIRTH_JP
- JP_AGE
- JP_GENDER
- EMAIL_ADDRESS
- PERSON
- LOCATION
entity_categories:
  location:
  - LOCATION
  - JP_ADDRESS
  - LOC
  - GPE
  organization:
  - ORGANIZATION
  - JP_ORGANIZATION
  - ORG
  person:
  - PERSON
  - JP_PERSON
  - PER
masking:
  default_mask: '****'
  entity_masks:
    DATE_OF_BIRTH_JP: '****/**/**'
    JP_ADDRESS: '****'
    JP_PERSON: '****'
    JP_ZIP_CODE: '***-****'
    PHONE_NUMBER_JP: '***-****-****'
transformer:
  device: cpu
  enabled: false
  min_confidence: 0.8

# 検出戦略: エンティティごとに使用するRecognizerを指定
detection_strategy:
  # Transformer NERが担当するエンティティ（高精度NER）
  transformer_entities:
    - JP_PERSON
    - JP_ADDRESS
    - PERSON
    - LOCATION
  # Pattern/GiNZA認識器が担当するエンティティ（ルールベース）
  pattern_entities:
    - PHONE_NUMBER_JP
    - JP_ZIP_CODE
    - DATE_OF_BIRTH_JP
    - JP_AGE
    - JP_GENDER
    - EMAIL_ADDRESS

# Model Registry: すべてのTransformerモデル定義
models:
  registry:
    # 英語NERモデル
    bert_ner_en:
      type: transformer
      model_name: dslim/bert-base-NER
      tokenizer_name: null
      language: en
      entities:
        - PERSON
        - LOCATION
        - ORGANIZATION
      label_mapping:
        B-PER: PERSON
        I-PER: PERSON
        B-LOC: LOCATION
        I-LOC: LOCATION
        B-ORG: ORGANIZATION
        I-ORG: ORGANIZATION
        B-MISC: MISC
        I-MISC: MISC
      description: "English NER - dslim/bert-base-NER (CoNLL-2003)"

    # 日本語NERモデル
    # このモデルはBIO形式ではなく、日本語エンティティラベルを直接出力
    knosing_ner_ja:
      type: transformer
      model_name: knosing/japanese_ner_model
      tokenizer_name: tohoku-nlp/bert-base-japanese-v3
      language: ja
      entities:
        - JP_PERSON
        - JP_ADDRESS
        - JP_ORGANIZATION
      label_mapping:
        # 実際のモデル出力ラベル（日本語）
        人名: JP_PERSON
        地名: JP_ADDRESS
        法人名: JP_ORGANIZATION
        その他の組織名: JP_ORGANIZATION
        政治的組織名: JP_ORGANIZATION
        施設名: JP_ADDRESS
        # BIO形式も念のため残す（将来のモデル変更対応）
        B-PER: JP_PERSON
        I-PER: JP_PERSON
        B-LOC: JP_ADDRESS
        I-LOC: JP_ADDRESS
        B-ORG: JP_ORGANIZATION
        I-ORG: JP_ORGANIZATION
      description: "Japanese NER - knosing/japanese_ner_model"

  # 言語ごとのデフォルトモデルID
  defaults:
    en: bert_ner_en
    ja: knosing_ner_ja

# Structure Restoration Configuration
structure_restoration:
  section_headings:
    contact:
      ja: ["連絡先", "住所", "基本情報", "個人情報"]
      en: ["Contact", "Personal", "Personal Information"]
    education:
      ja: ["学歴"]
      en: ["Education", "Academic", "EDUCATION"]
    experience:
      ja: ["職歴", "職務経歴", "経歴", "職務経歴書サマリー"]
      en: ["Experience", "Work Experience", "Employment", "WORK EXPERIENCE", "PROFESSIONAL SUMMARY"]
    skills:
      ja: ["スキル", "技術", "技術スキル"]
      en: ["Skills", "Technical Skills", "TECHNICAL SKILLS"]
    certifications:
      ja: ["資格", "認定"]
      en: ["Certifications", "Licenses", "CERTIFICATIONS"]

# Candidate Extraction Configuration
candidate_extraction:
  entity_priority:
    - EMAIL_ADDRESS
    - PHONE_NUMBER_JP
    - PHONE_NUMBER
    - JP_ZIP_CODE
    - US_ZIP_CODE
    - JP_ADDRESS
    - LOCATION
    - JP_PERSON
    - PERSON
    - DATE_OF_BIRTH_JP
    - DATE
    - JP_AGE
    - JP_GENDER

# Verification Configuration
verification:
  score_thresholds:
    mask: 0.7
    review: 0.5
  section_policies:
    education:
      person_penalty: -0.3
      address_penalty: -0.2
    experience:
      person_penalty: -0.3
      address_penalty: -0.2
    contact:
      person_boost: 0.2
      address_boost: 0.2

